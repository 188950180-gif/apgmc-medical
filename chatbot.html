<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APGMC æ™ºèƒ½åŠ©æ‰‹</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* Chat Button */
        .chat-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #006D77 0%, #005660 100%);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0,109,119,0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: transform 0.3s ease;
        }
        .chat-button:hover { transform: scale(1.1); }
        .chat-button svg { width: 28px; height: 28px; fill: white; }
        
        /* Chat Window */
        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 380px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            z-index: 10000;
            overflow: hidden;
        }
        .chat-window.open { display: flex; }
        
        /* Chat Header */
        .chat-header {
            background: linear-gradient(135deg, #006D77 0%, #005660 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .chat-avatar {
            width: 45px;
            height: 45px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        .chat-info h3 { font-size: 16px; margin-bottom: 2px; }
        .chat-info p { font-size: 12px; opacity: 0.9; }
        .chat-close {
            margin-left: auto;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            opacity: 0.9;
        }
        
        /* Chat Messages */
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }
        .message {
            margin-bottom: 15px;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .message.bot { margin-right: auto; }
        .message.user { margin-left: auto; background: #006D77; color: white; }
        
        .message-content {
            padding: 12px 16px;
            border-radius: 16px;
            font-size: 14px;
            line-height: 1.6;
        }
        .message.bot .message-content { background: white; border-bottom-left-radius: 4px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .message.user .message-content { background: #006D77; color: white; border-bottom-right-radius: 4px; }
        
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        .quick-reply {
            background: white;
            border: 1px solid #006D77;
            color: #006D77;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .quick-reply:hover { background: #006D77; color: white; }
        
        /* Chat Input */
        .chat-input-area {
            padding: 15px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
        }
        .chat-input:focus { border-color: #006D77; }
        .chat-send {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #006D77 0%, #005660 100%);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease;
        }
        .chat-send:hover { transform: scale(1.05); }
        .chat-send svg { width: 20px; height: 20px; fill: white; }
        
        /* Typing Indicator */
        .typing { display: none; padding: 10px 20px; }
        .typing.active { display: flex; gap: 5px; }
        .typing span {
            width: 8px;
            height: 8px;
            background: #006D77;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out;
        }
        .typing span:nth-child(1) { animation-delay: 0s; }
        .typing span:nth-child(2) { animation-delay: 0.2s; }
        .typing span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
        
        /* Welcome Message */
        .welcome-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        .welcome-option {
            background: #006D77;
            color: white;
            padding: 10px 16px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .welcome-option:hover { opacity: 0.9; transform: translateY(-2px); }
        
        /* Online Status */
        .online-dot {
            width: 10px;
            height: 10px;
            background: #10B981;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <!-- Chat Button -->
    <div class="chat-button" onclick="toggleChat()">
        <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg>
    </div>
    
    <!-- Chat Window -->
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <div class="chat-avatar">ğŸ¥</div>
            <div class="chat-info">
                <h3><span class="online-dot"></span>APGMC æ™ºèƒ½åŠ©æ‰‹</h3>
                <p>åœ¨çº¿è§£ç­”æ‚¨çš„å’¨è¯¢</p>
            </div>
            <button class="chat-close" onclick="toggleChat()">Ã—</button>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                <div class="message-content">
                    ğŸ‘‹ æ‚¨å¥½ï¼æ¬¢è¿å’¨è¯¢äºšå¤ªç¯çƒå…±äº«åŒ»ç–—ï¼
                    <br><br>
                    æˆ‘æ˜¯ APGMC æ™ºèƒ½åŠ©æ‰‹ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ã€‚è¯·é€‰æ‹©æ‚¨æƒ³äº†è§£çš„å†…å®¹ï¼š
                    <div class="welcome-options">
                        <div class="welcome-option" onclick="sendQuick('è´¹ç”¨/ä»·æ ¼')">ğŸ’° è´¹ç”¨/ä»·æ ¼</div>
                        <div class="welcome-option" onclick="sendQuick('é¢„çº¦å’¨è¯¢')">ğŸ“… é¢„çº¦å’¨è¯¢</div>
                        <div class="welcome-option" onclick="sendQuick('åˆä½œåŒ»é™¢')">ğŸ¥ åˆä½œåŒ»é™¢</div>
                        <div class="welcome-option" onclick="sendQuick('æœåŠ¡å¥—é¤')">ğŸ“¦ æœåŠ¡å¥—é¤</div>
                        <div class="welcome-option" onclick="sendQuick('è”ç³»å®¢æœ')">ğŸ“ è”ç³»å®¢æœ</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="typing" id="typing">
            <span></span><span></span><span></span>
        </div>
        
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chatInput" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..." onkeypress="handleKeyPress(event)">
            <button class="chat-send" onclick="sendMessage()">
                <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
            </button>
        </div>
    </div>
    
    <!-- Tidio External Chat Integration (Optional) -->
    <!--
    <script src="//code.tidio.co/YOUR_PUBLIC_KEY.js"></script>
    <script>
        window.tidioChatApi.onReady = function() {
            tidioChatApi.setMessage('Welcome to APGMC! How can I help you?');
        };
    </script>
    -->
    
    <script>
        const chatWindow = document.getElementById('chatWindow');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const typing = document.getElementById('typing');
        
        // Knowledge Base
        const knowledgeBase = {
            'è´¹ç”¨': {
                answer: `ğŸ’° **æœåŠ¡è´¹ç”¨å‚è€ƒ**ï¼š

**å¥—é¤ä»·æ ¼**ï¼š
â€¢ Basicï¼ˆåŸºç¡€ï¼‰: $200/äºº
  - åŒ»é™¢é¢„çº¦ + è¡Œç¨‹è§„åˆ’ + åœ¨çº¿å’¨è¯¢ + æŠ¥å‘Šç¿»è¯‘

â€¢ Standardï¼ˆæ ‡å‡†ï¼‰: $350/äºº
  - åŒ…å« Basic æ‰€æœ‰æœåŠ¡
  - æ¥æœºæœåŠ¡ + 1å¤©åŒ»ç–—é™ªåŒ

â€¢ Full Serviceï¼ˆå…¨åŒ…ï¼‰: $800/äºº
  - åŒ…å« Standard æ‰€æœ‰æœåŠ¡
  - åŒ»ç–—ç¿»è¯‘ + 3å¤©é™ªè¯Š + 24/7çƒ­çº¿

**è¯´æ˜**ï¼šåŒ»é™¢è´¹ç”¨å¦è®¡ï¼Œéœ€æ ¹æ®å…·ä½“æ²»ç–—æ–¹æ¡ˆç¡®å®š`,
                quickReplies: ['é¢„çº¦å’¨è¯¢', 'æŸ¥çœ‹å¥—é¤è¯¦æƒ…', 'è”ç³»å®¢æœ']
            },
            'ä»·æ ¼': {
                answer: `ğŸ’° **ä»·æ ¼å‚è€ƒ**ï¼š

ä¸æ¬§ç¾ç›¸æ¯”ï¼Œåœ¨ä¸­å›½å°±åŒ»å¯èŠ‚çœ **50%** ä»¥ä¸Šè´¹ç”¨ã€‚

| é¡¹ç›® | ä¸­å›½ | æ¬§ç¾ |
|------|------|------|
| è‚¿ç˜¤ç­›æŸ¥ | $500-800 | $2000-3000 |
| å¿ƒè¡€ç®¡æ£€æŸ¥ | $800-1200 | $3000-5000 |
| å…¨é¢ä½“æ£€ | $300-500 | $1000-2000 |

**ç«‹å³é¢„çº¦è·å–ç²¾ç¡®æŠ¥ä»·**`,
                quickReplies: ['ç«‹å³é¢„çº¦', 'æ›´å¤šè¯¦æƒ…']
            },
            'é¢„çº¦': {
                answer: `ğŸ“… **é¢„çº¦æµç¨‹**ï¼š

1ï¸âƒ£ **å…è´¹å’¨è¯¢** - æäº¤æ‚¨çš„éœ€æ±‚ï¼Œ24å°æ—¶å†…å›å¤

2ï¸âƒ£ **è·å–æ–¹æ¡ˆ** - åŒ»é™¢ç»™å‡ºæ²»ç–—æ–¹æ¡ˆå’Œè´¹ç”¨ä¼°ç®—

3ï¸âƒ£ **æ”¯ä»˜å®šé‡‘** - é¢„å®šè´¹ $200-500ï¼ˆ24hå¯é€€ï¼‰

4ï¸âƒ£ **åŠç†ç­¾è¯** - æˆ‘ä»¬ååŠ©æ‚¨åŠç†åŒ»ç–—ç­¾è¯

5ï¸âƒ£ **å°±åŒ»æœåŠ¡** - æ¥æœºã€é™ªè¯Šã€ç¿»è¯‘ä¸€ç«™å¼æœåŠ¡

**å¹³å‡æ•´ä½“è¡Œç¨‹ï¼š5-7å¤©**`,
                quickReplies: ['å¼€å§‹é¢„çº¦', 'éœ€è¦å¤šé•¿æ—¶é—´', 'è´¹ç”¨å¤šå°‘']
            },
            'åŒ»é™¢': {
                answer: `ğŸ¥ **åˆä½œåŒ»é™¢**ï¼š

**è¯•ç‚¹åŒ»é™¢**ï¼š
â€¢ **Changde Xiangya Hospital**ï¼ˆå¸¸å¾·æ¹˜é›…ï¼‰
  - ä¸‰ç”²åŒ»é™¢ï¼Œè‚¿ç˜¤ã€å¿ƒè¡€ç®¡ã€ä½“æ£€ç‰¹è‰²

â€¢ **HKU Shenzhen Hospital**ï¼ˆæ·±åœ³æ¸¯å¤§ï¼‰
  - æ·±æ¸¯åˆä½œï¼Œå›½é™…æ ‡å‡†ï¼ŒåŒè¯­æœåŠ¡

**å³å°†åˆä½œ**ï¼š
â€¢ åŒ—äº¬åå’ŒåŒ»é™¢
â€¢ ä¸Šæµ·åå±±åŒ»é™¢
â€¢ å¹¿å·ä¸­å±±åŒ»é™¢`,
                quickReplies: ['æŸ¥çœ‹è¯¦æƒ…', 'é¢„çº¦è¿™ä¸¤å®¶åŒ»é™¢', 'å…¶ä»–åŒ»é™¢']
            },
            'å¥—é¤': {
                answer: `ğŸ“¦ **æœåŠ¡å¥—é¤å¯¹æ¯”**ï¼š

| æœåŠ¡å†…å®¹ | Basic $200 | Standard $350 | Full $800 |
|----------|------------|--------------|-----------|
| åŒ»é™¢é¢„çº¦ | âœ… | âœ… | âœ… |
| è¡Œç¨‹è§„åˆ’ | âœ… | âœ… | âœ… |
| åœ¨çº¿å’¨è¯¢ | âœ… | âœ… | âœ… |
| æŠ¥å‘Šç¿»è¯‘ | âœ… | âœ… | âœ… |
| æ¥æœºæœåŠ¡ | âŒ | âœ… | âœ… |
| åŒ»ç–—ç¿»è¯‘ | âŒ | âŒ | âœ… |
| é™ªè¯ŠæœåŠ¡ | âŒ | 1å¤© | 3å¤© |
| 24/7çƒ­çº¿ | âŒ | âŒ | âœ…`,
                quickReplies: ['é€‰æ‹©å¥—é¤', 'åŒºåˆ«æ˜¯ä»€ä¹ˆ', 'é¢„çº¦å’¨è¯¢']
            },
            'æµç¨‹': {
                answer: `ğŸ”„ **å°±åŒ»æµç¨‹**ï¼š

```
æ­¥éª¤1ï¼šå’¨è¯¢ï¼ˆå…è´¹ï¼‰
   â””â”€â”€ æäº¤éœ€æ±‚ â†’ 24hå†…å›å¤

æ­¥éª¤2ï¼šæ–¹æ¡ˆï¼ˆå…è´¹ï¼‰
   â””â”€â”€ åŒ»é™¢å›å¤ â†’ è´¹ç”¨ä¼°ç®— â†’ è¡Œç¨‹å»ºè®®

æ­¥éª¤3ï¼šé¢„çº¦ï¼ˆä»˜$200-500ï¼‰
   â””â”€â”€ é¢„å®šè´¹é”å®šåé¢ â†’ 24hå¯é€€

æ­¥éª¤4ï¼šç­¾è¯+æœºç¥¨
   â””â”€â”€ è‡ªè¡ŒåŠç† / æˆ‘ä»¬ååŠ©

æ­¥éª¤5ï¼šå°±åŒ»
   â””â”€â”€ æ¥æœº â†’ é™ªè¯Š â†’ æ²»ç–—
````,
                quickReplies: ['å¼€å§‹é¢„çº¦', 'éœ€è¦ç­¾è¯å—']
            },
            'ç­¾è¯': {
                answer: `ğŸ›‚ **ç­¾è¯è¯´æ˜**ï¼š

**å…ç­¾æ”¿ç­–**ï¼š
â€¢ å¤šå›½å…¬æ°‘å¯å…ç­¾15-30å¤©
â€¢ å…·ä½“è¯·æŸ¥è¯¢æ‚¨çš„å›½ç±

**åŒ»ç–—ç­¾è¯**ï¼š
â€¢ éœ€åœç•™è¶…è¿‡å…ç­¾æœŸé™
â€¢ æˆ‘ä»¬ååŠ©åŠç†åŒ»ç–—ç­¾è¯

**æ‰€éœ€ææ–™**ï¼š
â€¢ æŠ¤ç…§
â€¢ åŒ»é™¢é¢„çº¦å‡½
â€¢ èµ„é‡‘è¯æ˜
â€¢ è¡Œç¨‹å®‰æ’`,
                quickReplies: ['åŠç†ç­¾è¯', 'æˆ‘çš„å›½å®¶å…ç­¾å—']
            },
            'é€€æ¬¾': {
                answer: `ğŸ’µ **é€€æ¬¾æ”¿ç­–**ï¼š

â€¢ **é¢„å®šè´¹**ï¼š24å°æ—¶å†…å¯å…¨é¢é€€æ¬¾
â€¢ **è¶…è¿‡24å°æ—¶**ï¼šæŒ‰å®é™…æƒ…å†µå¤„ç†
â€¢ **æœåŠ¡è´¹**ï¼šæ ¹æ®æœåŠ¡è¿›åº¦åå•†

**é€€æ¬¾æµç¨‹**ï¼š
1. è”ç³»å®¢æœ
2. æä¾›è®¢å•ä¿¡æ¯
3. å®¡æ ¸å3-5ä¸ªå·¥ä½œæ—¥åˆ°è´¦`,
                quickReplies: ['ç”³è¯·é€€æ¬¾', 'è”ç³»å®¢æœ']
            },
            'è¯­è¨€': {
                answer: `ğŸ—£ï¸ **è¯­è¨€æœåŠ¡**ï¼š

**å…¨ç¨‹ä¸­æ–‡é™ªåŒ**ï¼š
â€¢ åŒ»ç–—ç¿»è¯‘ï¼ˆä¸“ä¸šåŒ»å­¦æœ¯è¯­ï¼‰
â€¢ ç”Ÿæ´»ç¿»è¯‘ï¼ˆæ—¥å¸¸æ²Ÿé€šï¼‰
â€¢ é™ªåŒå°±è¯Šï¼ˆä¸åŒ»ç”Ÿæ²Ÿé€šï¼‰

**åŒ»é™¢æ”¯æŒ**ï¼š
â€¢ æ·±åœ³æ¸¯å¤§åŒ»é™¢ï¼šåŒè¯­æœåŠ¡
â€¢ å…¶ä»–åŒ»é™¢ï¼šå…¨ç¨‹ç¿»è¯‘é™ªåŒ`,
                quickReplies: ['é¢„çº¦', 'äº†è§£æ›´å¤š']
            },
            'æ—¶é—´': {
                answer: `â±ï¸ **æ—¶é—´å®‰æ’**ï¼š

**æ•´ä½“è¡Œç¨‹**ï¼š5-7å¤©

**æ£€æµ‹æ—¶é—´**ï¼š
â€¢ åŸºç¡€ä½“æ£€ï¼š1å¤©
â€¢ ä¸“é¡¹æ£€æŸ¥ï¼š2-3å¤©
â€¢ å…¨é¢è¯„ä¼°ï¼š3-5å¤©

**å»ºè®®å®‰æ’**ï¼š
â€¢ ç¬¬1å¤©ï¼šæŠµè¾¾ï¼Œä¼‘æ¯
â€¢ ç¬¬2å¤©ï¼šå…¥é™¢æ£€æŸ¥
â€¢ ç¬¬3-4å¤©ï¼šè¯Šæ–­/æ²»ç–—
â€¢ ç¬¬5å¤©ï¼šæŠ¥å‘Šè§£è¯»ï¼Œè¿”ç¨‹`,
                quickReplies: ['é¢„çº¦è¡Œç¨‹', 'æœ€å¿«ä»€ä¹ˆæ—¶å€™']
            },
            'è”ç³»': {
                answer: `ğŸ“ **è”ç³»æ–¹å¼**ï¼š

**å®¢æœçƒ­çº¿**ï¼šè¯·å¡«å†™å’¨è¯¢è¡¨å•

**å·¥ä½œæ—¶é—´**ï¼š
â€¢ å‘¨ä¸€è‡³å‘¨äº”ï¼š9:00-18:00
â€¢ å‘¨æœ«ï¼š10:00-17:00

**ç´§æ€¥æƒ…å†µ**ï¼š
â€¢ 24/7 çƒ­çº¿ï¼ˆä»…å…¨åŒ…å¥—é¤å®¢æˆ·ï¼‰

**ç«‹å³å’¨è¯¢**ğŸ‘‡`,
                quickReplies: ['å¼€å§‹é¢„çº¦', 'å‘é€é‚®ä»¶']
            }
        };
        
        function toggleChat() {
            chatWindow.classList.toggle('open');
        }
        
        function sendQuick(text) {
            document.getElementById('chatInput').value = text;
            sendMessage();
        }
        
        function handleKeyPress(e) {
            if (e.key === 'Enter') sendMessage();
        }
        
        function sendMessage() {
            const text = chatInput.value.trim();
            if (!text) return;
            
            addMessage(text, 'user');
            chatInput.value = '';
            
            // Show typing
            typing.classList.add('active');
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Simulate bot response
            setTimeout(() => {
                typing.classList.remove('active');
                const response = getResponse(text);
                addMessage(response.text, 'bot', response.quickReplies);
            }, 1000);
        }
        
        function addMessage(text, type, quickReplies = []) {
            const div = document.createElement('div');
            div.className = `message ${type}`;
            
            let html = `<div class="message-content">${text}`;
            
            if (quickReplies.length > 0) {
                html += '<div class="quick-replies">';
                quickReplies.forEach(reply => {
                    html += `<span class="quick-reply" onclick="sendQuick('${reply}')">${reply}</span>`;
                });
                html += '</div>';
            }
            
            html += '</div>';
            div.innerHTML = html;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function getResponse(text) {
            const lower = text.toLowerCase();
            
            // Match keywords
            for (const [key, data] of Object.entries(knowledgeBase)) {
                if (lower.includes(key.toLowerCase()) || 
                    key.toLowerCase().includes(lower.substring(0, Math.min(3, lower.length)))) {
                    return data;
                }
            }
            
            // Default response
            return {
                answer: `æ„Ÿè°¢æ‚¨çš„å’¨è¯¢ï¼ğŸ˜Š

æ‚¨å¯ä»¥ï¼š
â€¢ ç›´æ¥é¢„çº¦ï¼šå¡«å†™ä¸‹æ–¹è¡¨å•
â€¢ äº†è§£æ›´å¤šï¼šæŸ¥çœ‹æœåŠ¡å¥—é¤
â€¢ è”ç³»å®¢æœï¼šè·å–ä¸“ä¸šè§£ç­”

**æˆ‘ä»¬ä¼šåœ¨24å°æ—¶å†…å›å¤æ‚¨ï¼**`,
                quickReplies: ['å¼€å§‹é¢„çº¦', 'æœåŠ¡å¥—é¤', 'è”ç³»å®¢æœ']
            };
        }
    </script>
</body>
</html>
